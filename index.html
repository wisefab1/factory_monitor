<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Machine Report ‚Äî 20.02.2026 08:24</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:'Segoe UI',Arial,sans-serif;background:#f0f2f5;color:#1a1a2e;font-size:15px;margin:0}

  /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
  .header{background:#1a1a2e;color:white;padding:16px 20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}
  .header h1{font-size:1.2rem;font-weight:600}
  .header .meta{font-size:.8rem;opacity:.7;text-align:right}

  /* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */
  .container{max-width:1100px;margin:16px auto;padding:0 12px}

  /* ‚îÄ‚îÄ Machine card ‚îÄ‚îÄ */
  .machine-card{background:white;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.08);margin-bottom:20px;overflow:hidden}
  .machine-header{background:#1e293b;color:white;padding:14px 16px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}
  .machine-title{display:flex;flex-direction:column;gap:2px}
  .machine-id{font-size:1.1rem;font-weight:700}
  .machine-full{font-size:.7rem;opacity:.6;word-break:break-all}
  .eff-badge{padding:5px 12px;border-radius:20px;font-weight:600;font-size:.85rem;color:white;white-space:nowrap}
  .eff-detail{font-size:.72rem;font-weight:400;opacity:.85;margin-left:4px}

  /* ‚îÄ‚îÄ Section title ‚îÄ‚îÄ */
  .section-title{padding:10px 16px 5px;font-weight:600;font-size:.8rem;color:#475569;border-top:1px solid #f1f5f9;text-transform:uppercase;letter-spacing:.03em}

  /* ‚îÄ‚îÄ Tables (desktop) ‚îÄ‚îÄ */
  table{width:100%;border-collapse:collapse;font-size:.85rem}
  th{background:#f8fafc;padding:8px 12px;text-align:left;font-weight:600;color:#64748b;border-bottom:1px solid #e2e8f0;white-space:nowrap}
  td{padding:8px 12px;border-bottom:1px solid #f1f5f9;word-break:break-word}
  tr:last-child td{border-bottom:none}
  tr:hover td{background:#f8fafc}
  .tl-row{cursor:pointer;transition:background-color 0.2s ease}
  .tl-row:hover td{background:#e0f2fe!important}
  .activity-run td{background:#f0fdf4}
  .activity-down td{background:#fef2f2}
  .activity-run:hover td{background:#dcfce7!important}
  .activity-down:hover td{background:#fee2e2!important}

  /* ‚îÄ‚îÄ Scrollable tables ‚îÄ‚îÄ */
  .scroll-table-wrap{width:100%;border-bottom:1px solid #e2e8f0}
  .scroll-table{width:100%;border-collapse:collapse;table-layout:fixed;font-size:.85rem}
  .scroll-table th,.scroll-table td{padding:8px 12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
  .scroll-table thead th{background:#f8fafc;font-weight:600;color:#64748b;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:1}
  .scroll-table tbody tr:last-child td{border-bottom:none}
  .scroll-table tbody tr:hover td{background:#f8fafc}
  .scroll-tbody-wrap{overflow-y:auto;display:block}
  .scroll-tbody-wrap::-webkit-scrollbar{width:5px}
  .scroll-tbody-wrap::-webkit-scrollbar-track{background:#f1f5f9}
  .scroll-tbody-wrap::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}

  /* ‚îÄ‚îÄ Timeline ‚îÄ‚îÄ */
  .tl-scroll-wrapper{overflow-x:auto;overflow-y:hidden;position:relative;margin:0 -12px;padding:0 12px}
  .tl-scroll-wrapper::-webkit-scrollbar{height:8px}
  .tl-scroll-wrapper::-webkit-scrollbar-track{background:#f1f5f9}
  .tl-scroll-wrapper::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}
  .tl-inner{position:relative}
  .tl-wrap{overflow:hidden!important;border-radius:4px;position:relative;user-select:none}
  .tl-ticks{position:relative;height:20px;user-select:none}
  .tl-tick{position:absolute;top:24px;font-size:10px;color:#94a3b8;transform:translateX(-50%)}

  /* ‚îÄ‚îÄ Legend ‚îÄ‚îÄ */
  .legend{display:flex;gap:14px;padding:4px 16px 10px;font-size:.78rem;flex-wrap:wrap}
  .legend span{display:flex;align-items:center;gap:4px}
  .dot{width:11px;height:11px;border-radius:2px;display:inline-block;flex-shrink:0}

  /* ‚îÄ‚îÄ Misc ‚îÄ‚îÄ */
  .badge{display:inline-block;padding:2px 7px;border-radius:10px;font-size:.72rem;font-weight:600;margin-left:3px}
  .badge.ongoing{background:#dbeafe;color:#1d4ed8}
  .empty{padding:12px 16px;color:#94a3b8;font-style:italic;font-size:.85rem}
  .footer{text-align:center;color:#94a3b8;font-size:.75rem;padding:16px;word-break:break-all}

  /* ‚îÄ‚îÄ Tooltip ‚îÄ‚îÄ */
  #tl-tooltip{
    position:fixed;pointer-events:none;z-index:9999;
    background:#1e293b;color:white;
    padding:6px 10px;border-radius:6px;font-size:.78rem;
    box-shadow:0 4px 12px rgba(0,0,0,.3);
    display:none;max-width:240px;white-space:normal;line-height:1.4
  }

  /* ‚îÄ‚îÄ Highlight ‚îÄ‚îÄ */
  .tl-seg.dim{opacity:.25}
  .tl-seg.highlight{filter:brightness(1.25);outline:2px solid white;z-index:2;position:relative}
  .tl-row{transition:background-color 0.2s ease}
  .tl-row.highlight td{background:#fde047!important;font-weight:600}
  .tl-row:hover td{background:#f0f9ff!important}

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     MOBILE  ‚â§ 600px
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  @media(max-width:600px){
    body{font-size:14px}
    .header{padding:12px 14px}
    .header h1{font-size:1rem}
    .container{padding:0 8px;margin:10px auto}
    .machine-card{border-radius:8px;margin-bottom:14px}
    .machine-header{padding:12px 12px}
    .machine-id{font-size:1rem}
    .eff-badge{font-size:.78rem;padding:4px 10px}
    .eff-detail{display:none}          /* –ø—Ä–∏–±–∏—Ä–∞—î–º–æ (x/y min) –Ω–∞ –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö */
    .section-title{padding:8px 12px 4px;font-size:.75rem}

    /* –¢–∞–±–ª–∏—Ü—ñ ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Å–∫—Ä–æ–ª –∑–∞–º—ñ—Å—Ç—å truncate */
    .table-scroll-x{overflow-x:auto;-webkit-overflow-scrolling:touch}
    table,.scroll-table{font-size:.78rem;min-width:360px}
    th,td,.scroll-table th,.scroll-table td{padding:7px 9px}

    /* Timeline ‚Äî —Ç—ñ–∫—ñ —Ç—ñ–ª—å–∫–∏ –∫–æ–∂–Ω—ñ 30 —Ö–≤ */
    .tl-tick-15{display:none}
    .tl-ticks{height:16px}
    .tl-tick{font-size:8px}

    /* Tooltip ‚Äî –∑–∞–≤–∂–¥–∏ –∑–Ω–∏–∑—É –µ–∫—Ä–∞–Ω—É –Ω–∞ mobile */
    #tl-tooltip{
      position:fixed;bottom:12px;left:50%;transform:translateX(-50%);
      top:auto!important;max-width:92vw;text-align:center
    }

    .legend{padding:4px 12px 8px;font-size:.74rem;gap:10px}
    .footer{font-size:.7rem;padding:12px}
  }
</style>
</head>
<body>
<div class="header">
  <h1>üìä Machine Report</h1>
  <div class="meta">Period: 00:00 ‚Äì 08:23<br>Generated: 20.02.2026 08:24</div>
</div>
<div class="container">
  <div class="legend">
    <span><span class="dot" style="background:#22c55e"></span>Running</span>
    <span><span class="dot" style="background:#ef4444"></span>Downtime</span>
  </div>
  
        <div class="machine-card">
          <div class="machine-header">
            <div class="machine-title">
              <span class="machine-id">M1</span>
              <span class="machine-full">M1_M560R-V-e_0712-100198</span>
            </div>
            <div class="eff-badge" style="background:#ef4444">
              Efficiency: 14%
              <span class="eff-detail">(16 / 114 min)</span>
            </div>
          </div>
          <div class="section-title">‚è± Timeline</div>
          <div style="padding:10px 20px 4px"><div class="tl-scroll-wrapper" data-machine="M1"><div class="tl-inner" style="width:2400px"><div class="tl-wrap" data-machine="M1" style="position:relative;height:44px;background:#f1f5f9"><div class="tl-seg" data-id="M1_0" data-tip="06:00‚Äì07:11 | Power off" style="position:absolute;left:71.57%;width:14.12%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">06:00</span></div><div class="tl-seg" data-id="M1_1" data-tip="07:11‚Äì07:13 | WF861-100L-P3.MIN" style="position:absolute;left:85.69%;width:0.40%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="M1_2" data-tip="07:13‚Äì07:27 | WARMUP.MIN" style="position:absolute;left:86.08%;width:2.78%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="M1_3" data-tip="07:27‚Äì08:23 | Setup" style="position:absolute;left:88.87%;width:11.13%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">07:27</span></div></div><div class="tl-ticks"><div class="tl-tick" style="left:0.0%">00:00</div><div class="tl-tick tl-tick-15" style="left:3.0%">00:15</div><div class="tl-tick" style="left:6.0%">00:30</div><div class="tl-tick tl-tick-15" style="left:8.9%">00:45</div><div class="tl-tick" style="left:11.9%">01:00</div><div class="tl-tick tl-tick-15" style="left:14.9%">01:15</div><div class="tl-tick" style="left:17.9%">01:30</div><div class="tl-tick tl-tick-15" style="left:20.9%">01:45</div><div class="tl-tick" style="left:23.9%">02:00</div><div class="tl-tick tl-tick-15" style="left:26.8%">02:15</div><div class="tl-tick" style="left:29.8%">02:30</div><div class="tl-tick tl-tick-15" style="left:32.8%">02:45</div><div class="tl-tick" style="left:35.8%">03:00</div><div class="tl-tick tl-tick-15" style="left:38.8%">03:15</div><div class="tl-tick" style="left:41.7%">03:30</div><div class="tl-tick tl-tick-15" style="left:44.7%">03:45</div><div class="tl-tick" style="left:47.7%">04:00</div><div class="tl-tick tl-tick-15" style="left:50.7%">04:15</div><div class="tl-tick" style="left:53.7%">04:30</div><div class="tl-tick tl-tick-15" style="left:56.7%">04:45</div><div class="tl-tick" style="left:59.6%">05:00</div><div class="tl-tick tl-tick-15" style="left:62.6%">05:15</div><div class="tl-tick" style="left:65.6%">05:30</div><div class="tl-tick tl-tick-15" style="left:68.6%">05:45</div><div class="tl-tick" style="left:71.6%">06:00</div><div class="tl-tick tl-tick-15" style="left:74.6%">06:15</div><div class="tl-tick" style="left:77.5%">06:30</div><div class="tl-tick tl-tick-15" style="left:80.5%">06:45</div><div class="tl-tick" style="left:83.5%">07:00</div><div class="tl-tick tl-tick-15" style="left:86.5%">07:15</div><div class="tl-tick" style="left:89.5%">07:30</div><div class="tl-tick tl-tick-15" style="left:92.4%">07:45</div><div class="tl-tick" style="left:95.4%">08:00</div><div class="tl-tick tl-tick-15" style="left:98.4%">08:15</div></div></div></div></div>
          <div class="section-title">üìã Activity Log ‚Äî 1 cycles, 2 downtimes (98 min)</div>
          <div style="padding:0 0 4px"><div class="table-scroll-x"><div class="scroll-table-wrap"><table class="scroll-table"><thead><tr><th>Details</th><th></th><th>Start</th><th>End</th><th>Duration</th></tr></thead></table><div class="scroll-tbody-wrap" style="max-height:auto;overflow-y:auto"><table class="scroll-table"><tbody><tr class="tl-row activity-down" data-id="M1_0"><td>Power off</td><td>üî¥</td><td>06:00</td><td>07:11</td><td><strong>71 min</strong></td></tr><tr class="tl-row activity-run" data-id="M1_1 M1_2"><td>WF861-100L-P3.MIN</td><td>üü¢</td><td>07:11</td><td>07:27</td><td><strong>16 min</strong></td></tr><tr class="tl-row activity-down" data-id="M1_3"><td>Setup</td><td>üî¥</td><td>07:27</td><td>‚Ä¶ <span class="badge ongoing">ongoing</span></td><td><strong>56 min</strong></td></tr></tbody></table></div></div></div></div>
          <div class="section-title" style="border-top:2px dashed #e2e8f0">üéØ Target Cycle Time</div><div class="table-scroll-x"><table><thead><tr><th>Program</th><th>OP</th><th>Total</th><th>Calculated</th><th>Target</th><th>Difference</th><th>Info</th></tr></thead><tbody><tr><td><em>WF861-100L-P3.MIN</em></td><td><span class="badge" style="background:#3b82f6;color:white;padding:2px 8px;border-radius:10px">OP3</span></td><td>14</td><td><strong>8.5 min</strong></td><td>‚Äî</td><td><span style="color:#94a3b8">No data</span></td><td style="font-size:0.75rem;color:#64748b">14 cycles (1 today)</td></tr></tbody></table></div>
          
        <div class="section-title">üìà 7-Day History</div>
        <div style="padding:12px 20px 16px">
          <canvas id="chart_M1_M560R_V_e_0712_100198" height="80"></canvas>
        </div>
        <script>
        (function(){
          new Chart(document.getElementById("chart_M1_M560R_V_e_0712_100198").getContext("2d"),{
            type:"bar",
            data:{labels:["02-17", "02-18", "02-19", "02-20"],datasets:[
              {label:"Run (min)",data:[39, 633, 420, 16],backgroundColor:"#22c55e88"},
              {label:"Down (min)",data:[17, 441, 597, 98],backgroundColor:"#ef444488"},
              {label:"Efficiency %",data:[69.6, 58.9, 41.3, 14.0],type:"line",borderColor:"#3b82f6",
               backgroundColor:"transparent",yAxisID:"y2",pointRadius:4,borderWidth:2}
            ]},
            options:{responsive:true,interaction:{mode:"index"},
              plugins:{legend:{position:"top"}},
              scales:{
                y:{title:{display:true,text:"minutes"}},
                y2:{position:"right",min:0,max:100,
                     title:{display:true,text:"efficiency %"},
                     grid:{drawOnChartArea:false}}
              }
            }
          });
        })();
        </script>
        </div>
        <div class="machine-card">
          <div class="machine-header">
            <div class="machine-title">
              <span class="machine-id">M2</span>
              <span class="machine-full">M2_M560R-V-e-M5V01235</span>
            </div>
            <div class="eff-badge" style="background:#ef4444">
              Efficiency: 18%
              <span class="eff-detail">(21 / 114 min)</span>
            </div>
          </div>
          <div class="section-title">‚è± Timeline</div>
          <div style="padding:10px 20px 4px"><div class="tl-scroll-wrapper" data-machine="M2"><div class="tl-inner" style="width:2400px"><div class="tl-wrap" data-machine="M2" style="position:relative;height:44px;background:#f1f5f9"><div class="tl-seg" data-id="M2_0" data-tip="06:00‚Äì07:13 | Power off" style="position:absolute;left:71.57%;width:14.51%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">06:00</span></div><div class="tl-seg" data-id="M2_1" data-tip="07:13‚Äì07:34 | Running" style="position:absolute;left:86.08%;width:4.17%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">07:13</span></div><div class="tl-seg" data-id="M2_2" data-tip="07:34‚Äì08:23 | Idle" style="position:absolute;left:90.26%;width:9.74%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">07:34</span></div></div><div class="tl-ticks"><div class="tl-tick" style="left:0.0%">00:00</div><div class="tl-tick tl-tick-15" style="left:3.0%">00:15</div><div class="tl-tick" style="left:6.0%">00:30</div><div class="tl-tick tl-tick-15" style="left:8.9%">00:45</div><div class="tl-tick" style="left:11.9%">01:00</div><div class="tl-tick tl-tick-15" style="left:14.9%">01:15</div><div class="tl-tick" style="left:17.9%">01:30</div><div class="tl-tick tl-tick-15" style="left:20.9%">01:45</div><div class="tl-tick" style="left:23.9%">02:00</div><div class="tl-tick tl-tick-15" style="left:26.8%">02:15</div><div class="tl-tick" style="left:29.8%">02:30</div><div class="tl-tick tl-tick-15" style="left:32.8%">02:45</div><div class="tl-tick" style="left:35.8%">03:00</div><div class="tl-tick tl-tick-15" style="left:38.8%">03:15</div><div class="tl-tick" style="left:41.7%">03:30</div><div class="tl-tick tl-tick-15" style="left:44.7%">03:45</div><div class="tl-tick" style="left:47.7%">04:00</div><div class="tl-tick tl-tick-15" style="left:50.7%">04:15</div><div class="tl-tick" style="left:53.7%">04:30</div><div class="tl-tick tl-tick-15" style="left:56.7%">04:45</div><div class="tl-tick" style="left:59.6%">05:00</div><div class="tl-tick tl-tick-15" style="left:62.6%">05:15</div><div class="tl-tick" style="left:65.6%">05:30</div><div class="tl-tick tl-tick-15" style="left:68.6%">05:45</div><div class="tl-tick" style="left:71.6%">06:00</div><div class="tl-tick tl-tick-15" style="left:74.6%">06:15</div><div class="tl-tick" style="left:77.5%">06:30</div><div class="tl-tick tl-tick-15" style="left:80.5%">06:45</div><div class="tl-tick" style="left:83.5%">07:00</div><div class="tl-tick tl-tick-15" style="left:86.5%">07:15</div><div class="tl-tick" style="left:89.5%">07:30</div><div class="tl-tick tl-tick-15" style="left:92.4%">07:45</div><div class="tl-tick" style="left:95.4%">08:00</div><div class="tl-tick tl-tick-15" style="left:98.4%">08:15</div></div></div></div></div>
          <div class="section-title">üìã Activity Log ‚Äî 1 cycles, 2 downtimes (93 min)</div>
          <div style="padding:0 0 4px"><div class="table-scroll-x"><div class="scroll-table-wrap"><table class="scroll-table"><thead><tr><th>Details</th><th></th><th>Start</th><th>End</th><th>Duration</th></tr></thead></table><div class="scroll-tbody-wrap" style="max-height:auto;overflow-y:auto"><table class="scroll-table"><tbody><tr class="tl-row activity-down" data-id="M2_0"><td>Power off</td><td>üî¥</td><td>06:00</td><td>07:13</td><td><strong>73 min</strong></td></tr><tr class="tl-row activity-run" data-id="M2_1"><td></td><td>üü¢</td><td>07:13</td><td>07:34</td><td><strong>21 min</strong></td></tr><tr class="tl-row activity-down" data-id="M2_2"><td>Idle</td><td>üî¥</td><td>07:34</td><td>‚Ä¶ <span class="badge ongoing">ongoing</span></td><td><strong>49 min</strong></td></tr></tbody></table></div></div></div></div>
          <div class="section-title" style="border-top:2px dashed #e2e8f0">üéØ Target Cycle Time</div><div class="table-scroll-x"><table><thead><tr><th>Program</th><th>OP</th><th>Total</th><th>Calculated</th><th>Target</th><th>Difference</th><th>Info</th></tr></thead><tbody></tbody></table></div>
          
        <div class="section-title">üìà 7-Day History</div>
        <div style="padding:12px 20px 16px">
          <canvas id="chart_M2_M560R_V_e_M5V01235" height="80"></canvas>
        </div>
        <script>
        (function(){
          new Chart(document.getElementById("chart_M2_M560R_V_e_M5V01235").getContext("2d"),{
            type:"bar",
            data:{labels:["02-17", "02-18", "02-19", "02-20"],datasets:[
              {label:"Run (min)",data:[32, 199, 421, 21],backgroundColor:"#22c55e88"},
              {label:"Down (min)",data:[25, 875, 597, 93],backgroundColor:"#ef444488"},
              {label:"Efficiency %",data:[56.1, 18.5, 41.4, 18.4],type:"line",borderColor:"#3b82f6",
               backgroundColor:"transparent",yAxisID:"y2",pointRadius:4,borderWidth:2}
            ]},
            options:{responsive:true,interaction:{mode:"index"},
              plugins:{legend:{position:"top"}},
              scales:{
                y:{title:{display:true,text:"minutes"}},
                y2:{position:"right",min:0,max:100,
                     title:{display:true,text:"efficiency %"},
                     grid:{drawOnChartArea:false}}
              }
            }
          });
        })();
        </script>
        </div>
        <div class="machine-card">
          <div class="machine-header">
            <div class="machine-title">
              <span class="machine-id">T1</span>
              <span class="machine-full">T1_L300E-M_PEA351</span>
            </div>
            <div class="eff-badge" style="background:#ef4444">
              Efficiency: 14%
              <span class="eff-detail">(16 / 114 min)</span>
            </div>
          </div>
          <div class="section-title">‚è± Timeline</div>
          <div style="padding:10px 20px 4px"><div class="tl-scroll-wrapper" data-machine="T1"><div class="tl-inner" style="width:2400px"><div class="tl-wrap" data-machine="T1" style="position:relative;height:44px;background:#f1f5f9"><div class="tl-seg" data-id="T1_0" data-tip="06:00‚Äì07:18 | Power off" style="position:absolute;left:71.57%;width:15.51%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">06:00</span></div><div class="tl-seg" data-id="T1_1" data-tip="07:18‚Äì07:20 | WF901-907-1.MIN" style="position:absolute;left:87.08%;width:0.40%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_2" data-tip="07:20‚Äì07:29 | Setup" style="position:absolute;left:87.48%;width:1.79%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_3" data-tip="07:29‚Äì07:30 | WF901-907-1.MIN" style="position:absolute;left:89.26%;width:0.20%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_4" data-tip="07:30‚Äì07:35 | Alarm: Safety speed clamping" style="position:absolute;left:89.46%;width:0.99%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_5" data-tip="07:35‚Äì07:36 | WF901-907-1.MIN" style="position:absolute;left:90.46%;width:0.20%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_6" data-tip="07:36‚Äì07:55 | Setup" style="position:absolute;left:90.66%;width:3.78%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">07:36</span></div><div class="tl-seg" data-id="T1_7" data-tip="07:55‚Äì07:58 | WF901-907-1.MIN" style="position:absolute;left:94.43%;width:0.60%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_8" data-tip="07:58‚Äì08:01 | Alarm: Load monitor over load" style="position:absolute;left:95.03%;width:0.60%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_9" data-tip="08:01‚Äì08:02 | WF901-907-1.MIN" style="position:absolute;left:95.63%;width:0.20%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_10" data-tip="08:02‚Äì08:06 | Alarm: Load monitor tool broken" style="position:absolute;left:95.83%;width:0.80%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_11" data-tip="08:06‚Äì08:10 | WF901-907-1.MIN" style="position:absolute;left:96.62%;width:0.80%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_12" data-tip="08:10‚Äì08:11 | Setup" style="position:absolute;left:97.42%;width:0.20%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_13" data-tip="08:11‚Äì08:15 | WF901-907-1.MIN" style="position:absolute;left:97.61%;width:0.80%;height:100%;background:#22c55e;cursor:pointer;transition:filter .15s,opacity .15s"></div><div class="tl-seg" data-id="T1_14" data-tip="08:15‚Äì08:23 | Alarm: Load monitor over load" style="position:absolute;left:98.41%;width:1.59%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"></div></div><div class="tl-ticks"><div class="tl-tick" style="left:0.0%">00:00</div><div class="tl-tick tl-tick-15" style="left:3.0%">00:15</div><div class="tl-tick" style="left:6.0%">00:30</div><div class="tl-tick tl-tick-15" style="left:8.9%">00:45</div><div class="tl-tick" style="left:11.9%">01:00</div><div class="tl-tick tl-tick-15" style="left:14.9%">01:15</div><div class="tl-tick" style="left:17.9%">01:30</div><div class="tl-tick tl-tick-15" style="left:20.9%">01:45</div><div class="tl-tick" style="left:23.9%">02:00</div><div class="tl-tick tl-tick-15" style="left:26.8%">02:15</div><div class="tl-tick" style="left:29.8%">02:30</div><div class="tl-tick tl-tick-15" style="left:32.8%">02:45</div><div class="tl-tick" style="left:35.8%">03:00</div><div class="tl-tick tl-tick-15" style="left:38.8%">03:15</div><div class="tl-tick" style="left:41.7%">03:30</div><div class="tl-tick tl-tick-15" style="left:44.7%">03:45</div><div class="tl-tick" style="left:47.7%">04:00</div><div class="tl-tick tl-tick-15" style="left:50.7%">04:15</div><div class="tl-tick" style="left:53.7%">04:30</div><div class="tl-tick tl-tick-15" style="left:56.7%">04:45</div><div class="tl-tick" style="left:59.6%">05:00</div><div class="tl-tick tl-tick-15" style="left:62.6%">05:15</div><div class="tl-tick" style="left:65.6%">05:30</div><div class="tl-tick tl-tick-15" style="left:68.6%">05:45</div><div class="tl-tick" style="left:71.6%">06:00</div><div class="tl-tick tl-tick-15" style="left:74.6%">06:15</div><div class="tl-tick" style="left:77.5%">06:30</div><div class="tl-tick tl-tick-15" style="left:80.5%">06:45</div><div class="tl-tick" style="left:83.5%">07:00</div><div class="tl-tick tl-tick-15" style="left:86.5%">07:15</div><div class="tl-tick" style="left:89.5%">07:30</div><div class="tl-tick tl-tick-15" style="left:92.4%">07:45</div><div class="tl-tick" style="left:95.4%">08:00</div><div class="tl-tick tl-tick-15" style="left:98.4%">08:15</div></div></div></div></div>
          <div class="section-title">üìã Activity Log ‚Äî 7 cycles, 8 downtimes (98 min)</div>
          <div style="padding:0 0 4px"><div class="table-scroll-x"><div class="scroll-table-wrap"><table class="scroll-table"><thead><tr><th>Details</th><th></th><th>Start</th><th>End</th><th>Duration</th></tr></thead></table><div class="scroll-tbody-wrap" style="max-height:300px;overflow-y:auto"><table class="scroll-table"><tbody><tr class="tl-row activity-down" data-id="T1_0"><td>Power off</td><td>üî¥</td><td>06:00</td><td>07:18</td><td><strong>78 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_1"><td>WF901-907-1.MIN</td><td>üü¢</td><td>07:18</td><td>07:20</td><td><strong>2 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_2"><td>Setup</td><td>üî¥</td><td>07:20</td><td>07:29</td><td><strong>9 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_3"><td>WF901-907-1.MIN</td><td>üü¢</td><td>07:29</td><td>07:30</td><td><strong>1 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_4"><td>Alarm: Safety speed clamping</td><td>üî¥</td><td>07:30</td><td>07:35</td><td><strong>5 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_5"><td>WF901-907-1.MIN</td><td>üü¢</td><td>07:35</td><td>07:36</td><td><strong>1 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_6"><td>Setup</td><td>üî¥</td><td>07:36</td><td>07:55</td><td><strong>19 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_7"><td>WF901-907-1.MIN</td><td>üü¢</td><td>07:55</td><td>07:58</td><td><strong>3 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_8"><td>Alarm: Load monitor over load</td><td>üî¥</td><td>07:58</td><td>08:01</td><td><strong>3 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_9"><td>WF901-907-1.MIN</td><td>üü¢</td><td>08:01</td><td>08:02</td><td><strong>1 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_10"><td>Alarm: Load monitor tool broken</td><td>üî¥</td><td>08:02</td><td>08:06</td><td><strong>4 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_11"><td>WF901-907-1.MIN</td><td>üü¢</td><td>08:06</td><td>08:10</td><td><strong>4 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_12"><td>Setup</td><td>üî¥</td><td>08:10</td><td>08:11</td><td><strong>1 min</strong></td></tr><tr class="tl-row activity-run" data-id="T1_13"><td>WF901-907-1.MIN</td><td>üü¢</td><td>08:11</td><td>08:15</td><td><strong>4 min</strong></td></tr><tr class="tl-row activity-down" data-id="T1_14"><td>Alarm: Load monitor over load</td><td>üî¥</td><td>08:15</td><td>‚Ä¶ <span class="badge ongoing">ongoing</span></td><td><strong>8 min</strong></td></tr></tbody></table></div></div></div></div>
          <div class="section-title" style="border-top:2px dashed #e2e8f0">üéØ Target Cycle Time</div><div class="table-scroll-x"><table><thead><tr><th>Program</th><th>OP</th><th>Total</th><th>Calculated</th><th>Target</th><th>Difference</th><th>Info</th></tr></thead><tbody><tr><td><em>WF901-907-1.MIN</em></td><td><span class="badge" style="background:#3b82f6;color:white;padding:2px 8px;border-radius:10px">OP1</span></td><td>539</td><td><strong>3 min</strong></td><td>‚Äî</td><td><span style="color:#94a3b8">No data</span></td><td style="font-size:0.75rem;color:#64748b">539 cycles (7 today)</td></tr></tbody></table></div>
          
        <div class="section-title">üìà 7-Day History</div>
        <div style="padding:12px 20px 16px">
          <canvas id="chart_T1_L300E_M_PEA351" height="80"></canvas>
        </div>
        <script>
        (function(){
          new Chart(document.getElementById("chart_T1_L300E_M_PEA351").getContext("2d"),{
            type:"bar",
            data:{labels:["02-17", "02-18", "02-19", "02-20"],datasets:[
              {label:"Run (min)",data:[0, 511, 347, 16],backgroundColor:"#22c55e88"},
              {label:"Down (min)",data:[51, 563, 670, 98],backgroundColor:"#ef444488"},
              {label:"Efficiency %",data:[0.0, 47.6, 34.1, 14.0],type:"line",borderColor:"#3b82f6",
               backgroundColor:"transparent",yAxisID:"y2",pointRadius:4,borderWidth:2}
            ]},
            options:{responsive:true,interaction:{mode:"index"},
              plugins:{legend:{position:"top"}},
              scales:{
                y:{title:{display:true,text:"minutes"}},
                y2:{position:"right",min:0,max:100,
                     title:{display:true,text:"efficiency %"},
                     grid:{drawOnChartArea:false}}
              }
            }
          });
        })();
        </script>
        </div>
        <div class="machine-card">
          <div class="machine-header">
            <div class="machine-title">
              <span class="machine-id">T2</span>
              <span class="machine-full">T2_ L300-MYW-e_MYW197</span>
            </div>
            <div class="eff-badge" style="background:#ef4444">
              Efficiency: 0%
              <span class="eff-detail">(0 / 114 min)</span>
            </div>
          </div>
          <div class="section-title">‚è± Timeline</div>
          <div style="padding:10px 20px 4px"><div class="tl-scroll-wrapper" data-machine="T2"><div class="tl-inner" style="width:2400px"><div class="tl-wrap" data-machine="T2" style="position:relative;height:44px;background:#f1f5f9"><div class="tl-seg" data-id="T2_0" data-tip="06:00‚Äì08:23 | Power off" style="position:absolute;left:71.57%;width:28.43%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">06:00</span></div></div><div class="tl-ticks"><div class="tl-tick" style="left:0.0%">00:00</div><div class="tl-tick tl-tick-15" style="left:3.0%">00:15</div><div class="tl-tick" style="left:6.0%">00:30</div><div class="tl-tick tl-tick-15" style="left:8.9%">00:45</div><div class="tl-tick" style="left:11.9%">01:00</div><div class="tl-tick tl-tick-15" style="left:14.9%">01:15</div><div class="tl-tick" style="left:17.9%">01:30</div><div class="tl-tick tl-tick-15" style="left:20.9%">01:45</div><div class="tl-tick" style="left:23.9%">02:00</div><div class="tl-tick tl-tick-15" style="left:26.8%">02:15</div><div class="tl-tick" style="left:29.8%">02:30</div><div class="tl-tick tl-tick-15" style="left:32.8%">02:45</div><div class="tl-tick" style="left:35.8%">03:00</div><div class="tl-tick tl-tick-15" style="left:38.8%">03:15</div><div class="tl-tick" style="left:41.7%">03:30</div><div class="tl-tick tl-tick-15" style="left:44.7%">03:45</div><div class="tl-tick" style="left:47.7%">04:00</div><div class="tl-tick tl-tick-15" style="left:50.7%">04:15</div><div class="tl-tick" style="left:53.7%">04:30</div><div class="tl-tick tl-tick-15" style="left:56.7%">04:45</div><div class="tl-tick" style="left:59.6%">05:00</div><div class="tl-tick tl-tick-15" style="left:62.6%">05:15</div><div class="tl-tick" style="left:65.6%">05:30</div><div class="tl-tick tl-tick-15" style="left:68.6%">05:45</div><div class="tl-tick" style="left:71.6%">06:00</div><div class="tl-tick tl-tick-15" style="left:74.6%">06:15</div><div class="tl-tick" style="left:77.5%">06:30</div><div class="tl-tick tl-tick-15" style="left:80.5%">06:45</div><div class="tl-tick" style="left:83.5%">07:00</div><div class="tl-tick tl-tick-15" style="left:86.5%">07:15</div><div class="tl-tick" style="left:89.5%">07:30</div><div class="tl-tick tl-tick-15" style="left:92.4%">07:45</div><div class="tl-tick" style="left:95.4%">08:00</div><div class="tl-tick tl-tick-15" style="left:98.4%">08:15</div></div></div></div></div>
          <div class="section-title">üìã Activity Log ‚Äî 0 cycles, 1 downtimes (114 min)</div>
          <div style="padding:0 0 4px"><div class="table-scroll-x"><div class="scroll-table-wrap"><table class="scroll-table"><thead><tr><th>Details</th><th></th><th>Start</th><th>End</th><th>Duration</th></tr></thead></table><div class="scroll-tbody-wrap" style="max-height:auto;overflow-y:auto"><table class="scroll-table"><tbody><tr class="tl-row activity-down" data-id="T2_0"><td>Power off</td><td>üî¥</td><td>06:00</td><td>‚Ä¶ <span class="badge ongoing">ongoing</span></td><td><strong>143 min</strong></td></tr></tbody></table></div></div></div></div>
          
          
        <div class="section-title">üìà 7-Day History</div>
        <div style="padding:12px 20px 16px">
          <canvas id="chart_T2__L300_MYW_e_MYW197" height="80"></canvas>
        </div>
        <script>
        (function(){
          new Chart(document.getElementById("chart_T2__L300_MYW_e_MYW197").getContext("2d"),{
            type:"bar",
            data:{labels:["02-17", "02-18", "02-19", "02-20"],datasets:[
              {label:"Run (min)",data:[46, 607, 671, 0],backgroundColor:"#22c55e88"},
              {label:"Down (min)",data:[10, 467, 346, 114],backgroundColor:"#ef444488"},
              {label:"Efficiency %",data:[82.1, 56.5, 66.0, 0.0],type:"line",borderColor:"#3b82f6",
               backgroundColor:"transparent",yAxisID:"y2",pointRadius:4,borderWidth:2}
            ]},
            options:{responsive:true,interaction:{mode:"index"},
              plugins:{legend:{position:"top"}},
              scales:{
                y:{title:{display:true,text:"minutes"}},
                y2:{position:"right",min:0,max:100,
                     title:{display:true,text:"efficiency %"},
                     grid:{drawOnChartArea:false}}
              }
            }
          });
        })();
        </script>
        </div>
        <div class="machine-card">
          <div class="machine-header">
            <div class="machine-title">
              <span class="machine-id">T3</span>
              <span class="machine-full">T3_LB2000EXII_254633</span>
            </div>
            <div class="eff-badge" style="background:#ef4444">
              Efficiency: 0%
              <span class="eff-detail">(0 / 114 min)</span>
            </div>
          </div>
          <div class="section-title">‚è± Timeline</div>
          <div style="padding:10px 20px 4px"><div class="tl-scroll-wrapper" data-machine="T3"><div class="tl-inner" style="width:2400px"><div class="tl-wrap" data-machine="T3" style="position:relative;height:44px;background:#f1f5f9"><div class="tl-seg" data-id="T3_0" data-tip="06:00‚Äì08:23 | Power off" style="position:absolute;left:71.57%;width:28.43%;height:100%;background:#ef4444;cursor:pointer;transition:filter .15s,opacity .15s"><span style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:white;white-space:nowrap;pointer-events:none">06:00</span></div></div><div class="tl-ticks"><div class="tl-tick" style="left:0.0%">00:00</div><div class="tl-tick tl-tick-15" style="left:3.0%">00:15</div><div class="tl-tick" style="left:6.0%">00:30</div><div class="tl-tick tl-tick-15" style="left:8.9%">00:45</div><div class="tl-tick" style="left:11.9%">01:00</div><div class="tl-tick tl-tick-15" style="left:14.9%">01:15</div><div class="tl-tick" style="left:17.9%">01:30</div><div class="tl-tick tl-tick-15" style="left:20.9%">01:45</div><div class="tl-tick" style="left:23.9%">02:00</div><div class="tl-tick tl-tick-15" style="left:26.8%">02:15</div><div class="tl-tick" style="left:29.8%">02:30</div><div class="tl-tick tl-tick-15" style="left:32.8%">02:45</div><div class="tl-tick" style="left:35.8%">03:00</div><div class="tl-tick tl-tick-15" style="left:38.8%">03:15</div><div class="tl-tick" style="left:41.7%">03:30</div><div class="tl-tick tl-tick-15" style="left:44.7%">03:45</div><div class="tl-tick" style="left:47.7%">04:00</div><div class="tl-tick tl-tick-15" style="left:50.7%">04:15</div><div class="tl-tick" style="left:53.7%">04:30</div><div class="tl-tick tl-tick-15" style="left:56.7%">04:45</div><div class="tl-tick" style="left:59.6%">05:00</div><div class="tl-tick tl-tick-15" style="left:62.6%">05:15</div><div class="tl-tick" style="left:65.6%">05:30</div><div class="tl-tick tl-tick-15" style="left:68.6%">05:45</div><div class="tl-tick" style="left:71.6%">06:00</div><div class="tl-tick tl-tick-15" style="left:74.6%">06:15</div><div class="tl-tick" style="left:77.5%">06:30</div><div class="tl-tick tl-tick-15" style="left:80.5%">06:45</div><div class="tl-tick" style="left:83.5%">07:00</div><div class="tl-tick tl-tick-15" style="left:86.5%">07:15</div><div class="tl-tick" style="left:89.5%">07:30</div><div class="tl-tick tl-tick-15" style="left:92.4%">07:45</div><div class="tl-tick" style="left:95.4%">08:00</div><div class="tl-tick tl-tick-15" style="left:98.4%">08:15</div></div></div></div></div>
          <div class="section-title">üìã Activity Log ‚Äî 0 cycles, 1 downtimes (114 min)</div>
          <div style="padding:0 0 4px"><div class="table-scroll-x"><div class="scroll-table-wrap"><table class="scroll-table"><thead><tr><th>Details</th><th></th><th>Start</th><th>End</th><th>Duration</th></tr></thead></table><div class="scroll-tbody-wrap" style="max-height:auto;overflow-y:auto"><table class="scroll-table"><tbody><tr class="tl-row activity-down" data-id="T3_0"><td>Power off</td><td>üî¥</td><td>06:00</td><td>‚Ä¶ <span class="badge ongoing">ongoing</span></td><td><strong>143 min</strong></td></tr></tbody></table></div></div></div></div>
          
          
        <div class="section-title">üìà 7-Day History</div>
        <div style="padding:12px 20px 16px">
          <canvas id="chart_T3_LB2000EXII_254633" height="80"></canvas>
        </div>
        <script>
        (function(){
          new Chart(document.getElementById("chart_T3_LB2000EXII_254633").getContext("2d"),{
            type:"bar",
            data:{labels:["02-17", "02-18", "02-19", "02-20"],datasets:[
              {label:"Run (min)",data:[35, 193, 494, 0],backgroundColor:"#22c55e88"},
              {label:"Down (min)",data:[21, 881, 523, 114],backgroundColor:"#ef444488"},
              {label:"Efficiency %",data:[62.5, 18.0, 48.6, 0.0],type:"line",borderColor:"#3b82f6",
               backgroundColor:"transparent",yAxisID:"y2",pointRadius:4,borderWidth:2}
            ]},
            options:{responsive:true,interaction:{mode:"index"},
              plugins:{legend:{position:"top"}},
              scales:{
                y:{title:{display:true,text:"minutes"}},
                y2:{position:"right",min:0,max:100,
                     title:{display:true,text:"efficiency %"},
                     grid:{drawOnChartArea:false}}
              }
            }
          });
        })();
        </script>
        </div>
</div>
<div class="footer">Source: C:\Connectplan_raports\operation_history.csv &nbsp;|&nbsp; DB: C:\Connectplan_raports\history.db</div>
<div id="tl-tooltip"></div>
<script>
(function(){
  var tip = document.getElementById("tl-tooltip");

  // ‚îÄ‚îÄ Tooltip + highlight –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç —Ç–∞–π–º–ª–∞–π–Ω—É ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll(".tl-seg").forEach(function(seg){
    seg.addEventListener("mouseenter", function(e){
      var id  = seg.dataset.id;
      var txt = seg.dataset.tip;
      tip.textContent = txt;
      tip.style.display = "block";
      var wrap = seg.closest(".tl-wrap");
      wrap.querySelectorAll(".tl-seg").forEach(function(s){ s.classList.add("dim"); });
      seg.classList.remove("dim");
      seg.classList.add("highlight");
      // –®—É–∫–∞—î–º–æ —Ä—è–¥–∫–∏ —â–æ –º—ñ—Å—Ç—è—Ç—å —Ü–µ–π ID (–º–æ–∂–µ –±—É—Ç–∏ –∫—ñ–ª—å–∫–∞ ID —á–µ—Ä–µ–∑ –ø—Ä–æ–±—ñ–ª)
      if(id) document.querySelectorAll('.tl-row').forEach(function(r){
        var ids = r.dataset.id ? r.dataset.id.split(' ') : [];
        if(ids.indexOf(id) !== -1) r.classList.add("highlight");
      });
    });
    seg.addEventListener("mousemove", function(e){
      tip.style.left = (e.clientX + 14) + "px";
      tip.style.top  = (e.clientY - 32) + "px";
    });
    seg.addEventListener("mouseleave", function(){
      tip.style.display = "none";
      var wrap = seg.closest(".tl-wrap");
      wrap.querySelectorAll(".tl-seg").forEach(function(s){ s.classList.remove("dim","highlight"); });
      var id = seg.dataset.id;
      if(id) document.querySelectorAll('.tl-row').forEach(function(r){
        var ids = r.dataset.id ? r.dataset.id.split(' ') : [];
        if(ids.indexOf(id) !== -1) r.classList.remove("highlight");
      });
    });
    
    // ‚îÄ‚îÄ –ö–ª—ñ–∫ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç ‚Äî —Å–∫—Ä–æ–ª –¥–æ —Ä—è–¥–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä ‚îÄ‚îÄ
    seg.addEventListener("click", function(e){
      var id = seg.dataset.id;
      if(!id) return;
      
      // –®—É–∫–∞—î–º–æ —Ä—è–¥–æ–∫ —â–æ –º—ñ—Å—Ç–∏—Ç—å —Ü–µ–π ID
      var targetRow = null;
      document.querySelectorAll('.tl-row').forEach(function(r){
        var ids = r.dataset.id ? r.dataset.id.split(' ') : [];
        if(ids.indexOf(id) !== -1) targetRow = r;
      });
      
      if(!targetRow) return;
      
      // –ó–Ω–∞—Ö–æ–¥–∏–º–æ scroll container (–º–æ–∂–µ –±—É—Ç–∏ .scroll-tbody-wrap –∞–±–æ –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç)
      var scrollContainer = targetRow.closest(".scroll-tbody-wrap");
      
      if(scrollContainer){
        // –°–∫—Ä–æ–ª –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ
        var rowRect = targetRow.getBoundingClientRect();
        var containerRect = scrollContainer.getBoundingClientRect();
        var targetScroll = scrollContainer.scrollTop + (rowRect.top - containerRect.top) - (containerRect.height / 2) + (rowRect.height / 2);
        
        scrollContainer.scrollTo({
          top: targetScroll,
          behavior: 'smooth'
        });
      } else {
        // –°–∫—Ä–æ–ª –≤—Å—ñ—î—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        var rowTop = targetRow.getBoundingClientRect().top + window.scrollY;
        var viewportCenter = window.innerHeight / 2;
        
        window.scrollTo({
          top: rowTop - viewportCenter + (targetRow.offsetHeight / 2),
          behavior: 'smooth'
        });
      }
      
      // –ö–æ—Ä–æ—Ç–∫–∏–π flash –µ—Ñ–µ–∫—Ç –¥–ª—è –ø—ñ–¥—Å–≤—ñ—Ç–∫–∏
      targetRow.classList.add("highlight");
      setTimeout(function(){
        targetRow.classList.remove("highlight");
      }, 1500);
    });
  });

  // ‚îÄ‚îÄ Highlight —Å–µ–≥–º–µ–Ω—Ç—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –Ω–∞ —Ä—è–¥–æ–∫ —Ç–∞–±–ª–∏—Ü—ñ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll(".tl-row").forEach(function(row){
    row.addEventListener("mouseenter", function(){
      var ids = row.dataset.id ? row.dataset.id.split(' ') : [];
      if(ids.length === 0) return;
      
      var wrap = null;
      var segs = [];
      ids.forEach(function(id){
        var seg = document.querySelector('.tl-seg[data-id="'+id+'"]');
        if(seg){
          if(!wrap) wrap = seg.closest(".tl-wrap");
          segs.push(seg);
        }
      });
      
      if(segs.length === 0) return;
      
      wrap.querySelectorAll(".tl-seg").forEach(function(s){ s.classList.add("dim"); });
      segs.forEach(function(seg){
        seg.classList.remove("dim");
        seg.classList.add("highlight");
      });
      
      // –ü–æ–∫–∞–∑—É—î–º–æ tooltip –¥–ª—è –ø–µ—Ä—à–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
      tip.textContent = segs[0].dataset.tip;
      tip.style.display = "block";
      tip.style.left = (row.getBoundingClientRect().right + 10) + "px";
      tip.style.top  = (row.getBoundingClientRect().top + window.scrollY) + "px";
    });
    row.addEventListener("mouseleave", function(){
      var ids = row.dataset.id ? row.dataset.id.split(' ') : [];
      if(ids.length === 0) return;
      
      var wrap = null;
      ids.forEach(function(id){
        var seg = document.querySelector('.tl-seg[data-id="'+id+'"]');
        if(seg){
          if(!wrap) wrap = seg.closest(".tl-wrap");
          wrap.querySelectorAll(".tl-seg").forEach(function(s){ s.classList.remove("dim","highlight"); });
        }
      });
      tip.style.display = "none";
    });
    
    // ‚îÄ‚îÄ –ö–ª—ñ–∫ –Ω–∞ —Ä—è–¥–æ–∫ ‚Äî —Å–∫—Ä–æ–ª –¥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –≤ —Ü–µ–Ω—Ç—Ä ‚îÄ‚îÄ
    row.addEventListener("click", function(){
      var ids = row.dataset.id ? row.dataset.id.split(' ') : [];
      if(ids.length === 0) return;
      
      var firstSeg = document.querySelector('.tl-seg[data-id="'+ids[0]+'"]');
      if(!firstSeg) return;
      
      var wrapper = firstSeg.closest(".tl-scroll-wrapper");
      if(!wrapper) return;
      
      // –ü–æ–∑–∏—Ü—ñ—è —Å–µ–≥–º–µ–Ω—Ç–∞ –≤—ñ–¥–Ω–æ—Å–Ω–æ wrapper
      var segRect = firstSeg.getBoundingClientRect();
      var wrapRect = wrapper.getBoundingClientRect();
      
      // –ü–æ—Ç–æ—á–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è —Å–∫—Ä–æ–ª—É + –≤—ñ–¥—Å—Ç–∞–Ω—å –¥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ - –ø–æ–ª–æ–≤–∏–Ω–∞ —à–∏—Ä–∏–Ω–∏ wrapper
      var targetScroll = wrapper.scrollLeft + (segRect.left - wrapRect.left) - (wrapRect.width / 2) + (segRect.width / 2);
      
      // –ü–ª–∞–≤–Ω–∏–π —Å–∫—Ä–æ–ª
      wrapper.scrollTo({
        left: targetScroll,
        behavior: 'smooth'
      });
    });
  });


  // ‚îÄ‚îÄ Touch support for mobile ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll(".tl-seg").forEach(function(seg){
    var touchStartTime;
    var touchMoved = false;
    
    seg.addEventListener("touchstart", function(e){
      touchStartTime = Date.now();
      touchMoved = false;
      e.preventDefault();
      tip.textContent = seg.dataset.tip;
      tip.style.display = "block";
      var wrap = seg.closest(".tl-wrap");
      wrap.querySelectorAll(".tl-seg").forEach(function(s){ s.classList.add("dim"); });
      seg.classList.remove("dim"); seg.classList.add("highlight");
      var id = seg.dataset.id;
      if(id) document.querySelectorAll('.tl-row').forEach(function(r){
        var ids = r.dataset.id ? r.dataset.id.split(' ') : [];
        if(ids.indexOf(id) !== -1) r.classList.add("highlight");
      });
    }, {passive:false});
    
    seg.addEventListener("touchmove", function(){
      touchMoved = true;
    });
    
    seg.addEventListener("touchend", function(){
      var touchDuration = Date.now() - touchStartTime;
      var id = seg.dataset.id;
      
      // –Ø–∫—â–æ —Ü–µ –±—É–≤ —à–≤–∏–¥–∫–∏–π —Ç–∞–ø (–Ω–µ drag), —Ä–æ–±–∏–º–æ —Å–∫—Ä–æ–ª –¥–æ —Ä—è–¥–∫–∞
      if(!touchMoved && touchDuration < 300 && id){
        var targetRow = null;
        document.querySelectorAll('.tl-row').forEach(function(r){
          var ids = r.dataset.id ? r.dataset.id.split(' ') : [];
          if(ids.indexOf(id) !== -1) targetRow = r;
        });
        
        if(targetRow){
          var scrollContainer = targetRow.closest(".scroll-tbody-wrap");
          
          if(scrollContainer){
            var rowRect = targetRow.getBoundingClientRect();
            var containerRect = scrollContainer.getBoundingClientRect();
            var targetScroll = scrollContainer.scrollTop + (rowRect.top - containerRect.top) - (containerRect.height / 2) + (rowRect.height / 2);
            
            scrollContainer.scrollTo({
              top: targetScroll,
              behavior: 'smooth'
            });
          } else {
            var rowTop = targetRow.getBoundingClientRect().top + window.scrollY;
            var viewportCenter = window.innerHeight / 2;
            
            window.scrollTo({
              top: rowTop - viewportCenter + (targetRow.offsetHeight / 2),
              behavior: 'smooth'
            });
          }
          
          targetRow.classList.add("highlight");
          setTimeout(function(){
            targetRow.classList.remove("highlight");
          }, 1500);
        }
      }
      
      setTimeout(function(){
        tip.style.display = "none";
        var wrap = seg.closest(".tl-wrap");
        wrap.querySelectorAll(".tl-seg").forEach(function(s){ s.classList.remove("dim","highlight"); });
        if(id) document.querySelectorAll('.tl-row').forEach(function(r){
          var ids = r.dataset.id ? r.dataset.id.split(' ') : [];
          if(ids.indexOf(id) !== -1) r.classList.remove("highlight");
        });
      }, 1400);
    });
  });


  // Auto-scroll –¥–æ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≥–æ–¥–∏–Ω–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
  document.querySelectorAll(".tl-scroll-wrapper").forEach(function(wrapper) {
    var inner = wrapper.querySelector(".tl-inner");
    if (inner) {
      // –ü–æ–∫–∞–∑—É—î–º–æ –æ—Å—Ç–∞–Ω–Ω—é –≥–æ–¥–∏–Ω—É (60 —Ö–≤–∏–ª–∏–Ω)
      // –ü—Ä–∏ 1.67px –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É: 60 —Ö–≤ = 100px
      var lastHourWidth = 100;  // –ø—Ä–∏–±–ª–∏–∑–Ω–æ 60 —Ö–≤–∏–ª–∏–Ω
      var scrollLeft = inner.offsetWidth - wrapper.offsetWidth;
      // –Ø–∫—â–æ —Ç–∞–π–º–ª–∞–π–Ω –¥–æ–≤—à–∏–π –Ω—ñ–∂ 1 –≥–æ–¥–∏–Ω–∞, —Å–∫—Ä–æ–ª–∏–º–æ –¥–æ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≥–æ–¥–∏–Ω–∏
      if (scrollLeft > lastHourWidth) {
        scrollLeft = Math.max(0, scrollLeft);
      }
      wrapper.scrollLeft = scrollLeft;
    }
  });

  // ‚îÄ‚îÄ Drag to scroll –¥–ª—è —Ç–∞–π–º–ª–∞–π–Ω—É ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  document.querySelectorAll(".tl-scroll-wrapper").forEach(function(wrapper) {
    var isDown = false;
    var startX;
    var scrollLeftStart;
    var isDragging = false;

    var tlWrap = wrapper.querySelector(".tl-wrap");
    if (!tlWrap) return;

    tlWrap.addEventListener("mousedown", function(e) {
      isDown = true;
      isDragging = false;
      startX = e.pageX;
      scrollLeftStart = wrapper.scrollLeft;
      tlWrap.style.cursor = "grabbing";
      wrapper.style.cursor = "grabbing";
    });

    document.addEventListener("mousemove", function(e) {
      if (!isDown) return;
      e.preventDefault();
      isDragging = true;
      var x = e.pageX;
      var walk = (startX - x) * 2; // —à–≤–∏–¥–∫—ñ—Å—Ç—å —Å–∫—Ä–æ–ª—É
      wrapper.scrollLeft = scrollLeftStart + walk;
    });

    document.addEventListener("mouseup", function() {
      if (isDown) {
        isDown = false;
        tlWrap.style.cursor = "grab";
        wrapper.style.cursor = "";
        // –î–∞—î–º–æ —á–∞—Å –¥–ª—è —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è click –ø—ñ—Å–ª—è –Ω–µ–≤–µ–ª–∏–∫–æ–≥–æ —Ä—É—Ö—É
        setTimeout(function() {
          isDragging = false;
        }, 50);
      }
    });

    // –ë–ª–æ–∫—É—î–º–æ click events —è–∫—â–æ –±—É–≤ drag
    tlWrap.addEventListener("click", function(e) {
      if (isDragging) {
        e.stopPropagation();
        e.preventDefault();
      }
    }, true);

    // Touch events –¥–ª—è mobile
    var touchStartX;
    var touchScrollStart;
    var isTouchDragging = false;

    tlWrap.addEventListener("touchstart", function(e) {
      touchStartX = e.touches[0].pageX;
      touchScrollStart = wrapper.scrollLeft;
      isTouchDragging = false;
    }, {passive: true});

    tlWrap.addEventListener("touchmove", function(e) {
      if (!touchStartX) return;
      isTouchDragging = true;
      var touchX = e.touches[0].pageX;
      var walk = (touchStartX - touchX) * 2;
      wrapper.scrollLeft = touchScrollStart + walk;
    }, {passive: true});

    tlWrap.addEventListener("touchend", function() {
      touchStartX = null;
      setTimeout(function() {
        isTouchDragging = false;
      }, 50);
    });

    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ cursor
    tlWrap.style.cursor = "grab";
  });
})();
</script>
</body>
</html>